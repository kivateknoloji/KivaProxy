!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).KivaProxy=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=function(e){return e&&e.Math==Math&&e},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")(),o=function(e){try{return!!e()}catch(e){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u={f:c&&!a.call({1:2},1)?function(e){var t=c(this,e);return!!t&&t.enumerable}:a},s=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,l=function(e){return f.call(e).slice(8,-1)},p="".split,h=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==l(e)?p.call(e,""):Object(e)}:Object,d=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return h(d(e))},y=function(e){return"object"==typeof e?null!==e:"function"==typeof e},g=function(e,t){if(!y(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!y(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!y(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!y(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,b=function(e,t){return m.call(e,t)},w=n.document,E=y(w)&&y(w.createElement),S=function(e){return E?w.createElement(e):{}},j=!i&&!o((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,O={f:i?x:function(e,t){if(e=v(e),t=g(t,!0),j)try{return x(e,t)}catch(e){}if(b(e,t))return s(!u.f.call(e,t),e[t])}},P=function(e){if(!y(e))throw TypeError(String(e)+" is not an object");return e},T=Object.defineProperty,A={f:i?T:function(e,t,r){if(P(e),t=g(t,!0),P(r),j)try{return T(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},R=i?function(e,t,r){return A.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e},C=function(e,t){try{R(n,e,t)}catch(r){n[e]=t}return t},k=n["__core-js_shared__"]||C("__core-js_shared__",{}),L=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(e){return L.call(e)});var N,D,M,I=k.inspectSource,U=n.WeakMap,_="function"==typeof U&&/native code/.test(I(U)),B=t((function(e){(e.exports=function(e,t){return k[e]||(k[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),F=0,q=Math.random(),$=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++F+q).toString(36)},H=B("keys"),z=function(e){return H[e]||(H[e]=$(e))},V={},G=n.WeakMap;if(_){var K=new G,X=K.get,J=K.has,W=K.set;N=function(e,t){return W.call(K,e,t),t},D=function(e){return X.call(K,e)||{}},M=function(e){return J.call(K,e)}}else{var Y=z("state");V[Y]=!0,N=function(e,t){return R(e,Y,t),t},D=function(e){return b(e,Y)?e[Y]:{}},M=function(e){return b(e,Y)}}var Q,Z,ee={set:N,get:D,has:M,enforce:function(e){return M(e)?D(e):N(e,{})},getterFor:function(e){return function(t){var r;if(!y(t)||(r=D(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},te=t((function(e){var t=ee.get,r=ee.enforce,o=String(String).split("String");(e.exports=function(e,t,i,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,s=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||b(i,"name")||R(i,"name",t),r(i).source=o.join("string"==typeof t?t:"")),e!==n?(c?!s&&e[t]&&(u=!0):delete e[t],u?e[t]=i:R(e,t,i)):u?e[t]=i:C(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||I(this)}))})),re=n,ne=function(e){return"function"==typeof e?e:void 0},oe=function(e,t){return arguments.length<2?ne(re[e])||ne(n[e]):re[e]&&re[e][t]||n[e]&&n[e][t]},ie=Math.ceil,ae=Math.floor,ce=function(e){return isNaN(e=+e)?0:(e>0?ae:ie)(e)},ue=Math.min,se=function(e){return e>0?ue(ce(e),9007199254740991):0},fe=Math.max,le=Math.min,pe=function(e){return function(t,r,n){var o,i=v(t),a=se(i.length),c=function(e,t){var r=ce(e);return r<0?fe(r+t,0):le(r,t)}(n,a);if(e&&r!=r){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===r)return e||c||0;return!e&&-1}},he={includes:pe(!0),indexOf:pe(!1)},de=he.indexOf,ve=function(e,t){var r,n=v(e),o=0,i=[];for(r in n)!b(V,r)&&b(n,r)&&i.push(r);for(;t.length>o;)b(n,r=t[o++])&&(~de(i,r)||i.push(r));return i},ye=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=ye.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(e){return ve(e,ge)}},be={f:Object.getOwnPropertySymbols},we=oe("Reflect","ownKeys")||function(e){var t=me.f(P(e)),r=be.f;return r?t.concat(r(e)):t},Ee=function(e,t){for(var r=we(t),n=A.f,o=O.f,i=0;i<r.length;i++){var a=r[i];b(e,a)||n(e,a,o(t,a))}},Se=/#|\.prototype\./,je=function(e,t){var r=Oe[xe(e)];return r==Te||r!=Pe&&("function"==typeof t?o(t):!!t)},xe=je.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},Oe=je.data={},Pe=je.NATIVE="N",Te=je.POLYFILL="P",Ae=je,Re=O.f,Ce=function(e,t){var r,o,i,a,c,u=e.target,s=e.global,f=e.stat;if(r=s?n:f?n[u]||C(u,{}):(n[u]||{}).prototype)for(o in t){if(a=t[o],i=e.noTargetGet?(c=Re(r,o))&&c.value:r[o],!Ae(s?o:u+(f?".":"#")+o,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;Ee(a,i)}(e.sham||i&&i.sham)&&R(a,"sham",!0),te(r,o,a,e)}},ke=Array.isArray||function(e){return"Array"==l(e)},Le=function(e){return Object(d(e))},Ne=function(e,t,r){var n=g(t);n in e?A.f(e,n,s(0,r)):e[n]=r},De=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),Me=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ie=B("wks"),Ue=n.Symbol,_e=Me?Ue:Ue&&Ue.withoutSetter||$,Be=function(e){return b(Ie,e)||(De&&b(Ue,e)?Ie[e]=Ue[e]:Ie[e]=_e("Symbol."+e)),Ie[e]},Fe=Be("species"),qe=function(e,t){var r;return ke(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!ke(r.prototype)?y(r)&&null===(r=r[Fe])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},$e=oe("navigator","userAgent")||"",He=n.process,ze=He&&He.versions,Ve=ze&&ze.v8;Ve?Z=(Q=Ve.split("."))[0]+Q[1]:$e&&(!(Q=$e.match(/Edge\/(\d+)/))||Q[1]>=74)&&(Q=$e.match(/Chrome\/(\d+)/))&&(Z=Q[1]);var Ge=Z&&+Z,Ke=Be("species"),Xe=function(e){return Ge>=51||!o((function(){var t=[];return(t.constructor={})[Ke]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Je=Be("isConcatSpreadable"),We=Ge>=51||!o((function(){var e=[];return e[Je]=!1,e.concat()[0]!==e})),Ye=Xe("concat"),Qe=function(e){if(!y(e))return!1;var t=e[Je];return void 0!==t?!!t:ke(e)};Ce({target:"Array",proto:!0,forced:!We||!Ye},{concat:function(e){var t,r,n,o,i,a=Le(this),c=qe(a,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?a:arguments[t],Qe(i)){if(u+(o=se(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,u++)r in i&&Ne(c,u,i[r])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ne(c,u++,i)}return c.length=u,c}});var Ze=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},et=function(e,t,r){if(Ze(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},tt=[].push,rt=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=5==e||i;return function(c,u,s,f){for(var l,p,d=Le(c),v=h(d),y=et(u,s,3),g=se(v.length),m=0,b=f||qe,w=t?b(c,g):r?b(c,0):void 0;g>m;m++)if((a||m in v)&&(p=y(l=v[m],m,d),e))if(t)w[m]=p;else if(p)switch(e){case 3:return!0;case 5:return l;case 6:return m;case 2:tt.call(w,l)}else if(o)return!1;return i?-1:n||o?o:w}},nt={forEach:rt(0),map:rt(1),filter:rt(2),some:rt(3),every:rt(4),find:rt(5),findIndex:rt(6)},ot=function(e,t){var r=[][e];return!!r&&o((function(){r.call(null,t||function(){throw 1},1)}))},it=Object.defineProperty,at={},ct=function(e){throw e},ut=function(e,t){if(b(at,e))return at[e];t||(t={});var r=[][e],n=!!b(t,"ACCESSORS")&&t.ACCESSORS,a=b(t,0)?t[0]:ct,c=b(t,1)?t[1]:void 0;return at[e]=!!r&&!o((function(){if(n&&!i)return!0;var e={length:-1};n?it(e,1,{enumerable:!0,get:ct}):e[1]=1,r.call(e,a,c)}))},st=nt.forEach,ft=ot("forEach"),lt=ut("forEach"),pt=ft&&lt?[].forEach:function(e){return st(this,e,arguments.length>1?arguments[1]:void 0)};Ce({target:"Array",proto:!0,forced:[].forEach!=pt},{forEach:pt});var ht,dt=Object.keys||function(e){return ve(e,ye)},vt=i?Object.defineProperties:function(e,t){P(e);for(var r,n=dt(t),o=n.length,i=0;o>i;)A.f(e,r=n[i++],t[r]);return e},yt=oe("document","documentElement"),gt=z("IE_PROTO"),mt=function(){},bt=function(e){return"<script>"+e+"<\/script>"},wt=function(){try{ht=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;wt=ht?function(e){e.write(bt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ht):((t=S("iframe")).style.display="none",yt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(bt("document.F=Object")),e.close(),e.F);for(var r=ye.length;r--;)delete wt.prototype[ye[r]];return wt()};V[gt]=!0;var Et=Object.create||function(e,t){var r;return null!==e?(mt.prototype=P(e),r=new mt,mt.prototype=null,r[gt]=e):r=wt(),void 0===t?r:vt(r,t)},St=Be("unscopables"),jt=Array.prototype;null==jt[St]&&A.f(jt,St,{configurable:!0,value:Et(null)});var xt,Ot=he.includes;Ce({target:"Array",proto:!0,forced:!ut("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return Ot(this,e,arguments.length>1?arguments[1]:void 0)}}),xt="includes",jt[St][xt]=!0;var Pt=[].join,Tt=h!=Object,At=ot("join",",");Ce({target:"Array",proto:!0,forced:Tt||!At},{join:function(e){return Pt.call(v(this),void 0===e?",":e)}});var Rt=nt.map,Ct=Xe("map"),kt=ut("map");Ce({target:"Array",proto:!0,forced:!Ct||!kt},{map:function(e){return Rt(this,e,arguments.length>1?arguments[1]:void 0)}}),Ce({target:"Object",stat:!0,forced:o((function(){dt(1)}))},{keys:function(e){return dt(Le(e))}});var Lt={};Lt[Be("toStringTag")]="z";var Nt="[object z]"===String(Lt),Dt=Be("toStringTag"),Mt="Arguments"==l(function(){return arguments}()),It=Nt?l:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Dt))?r:Mt?l(t):"Object"==(n=l(t))&&"function"==typeof t.callee?"Arguments":n},Ut=Nt?{}.toString:function(){return"[object "+It(this)+"]"};Nt||te(Object.prototype,"toString",Ut,{unsafe:!0});var _t=n.Promise,Bt=A.f,Ft=Be("toStringTag"),qt=Be("species"),$t={},Ht=Be("iterator"),zt=Array.prototype,Vt=Be("iterator"),Gt=function(e,t,r,n){try{return n?t(P(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&P(o.call(e)),t}},Kt=t((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,r,n,o,i){var a,c,u,s,f,l,p,h,d=et(r,n,o?2:1);if(i)a=e;else{if("function"!=typeof(c=function(e){if(null!=e)return e[Vt]||e["@@iterator"]||$t[It(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(h=c)&&($t.Array===h||zt[Ht]===h)){for(u=0,s=se(e.length);s>u;u++)if((f=o?d(P(p=e[u])[0],p[1]):d(e[u]))&&f instanceof t)return f;return new t(!1)}a=c.call(e)}for(l=a.next;!(p=l.call(a)).done;)if("object"==typeof(f=Gt(a,d,p.value,o))&&f&&f instanceof t)return f;return new t(!1)}).stop=function(e){return new t(!0,e)}})),Xt=Be("iterator"),Jt=!1;try{var Wt=0,Yt={next:function(){return{done:!!Wt++}},return:function(){Jt=!0}};Yt[Xt]=function(){return this},Array.from(Yt,(function(){throw 2}))}catch(e){}var Qt,Zt,er,tr=Be("species"),rr=/(iphone|ipod|ipad).*applewebkit/i.test($e),nr=n.location,or=n.setImmediate,ir=n.clearImmediate,ar=n.process,cr=n.MessageChannel,ur=n.Dispatch,sr=0,fr={},lr=function(e){if(fr.hasOwnProperty(e)){var t=fr[e];delete fr[e],t()}},pr=function(e){return function(){lr(e)}},hr=function(e){lr(e.data)},dr=function(e){n.postMessage(e+"",nr.protocol+"//"+nr.host)};or&&ir||(or=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return fr[++sr]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Qt(sr),sr},ir=function(e){delete fr[e]},"process"==l(ar)?Qt=function(e){ar.nextTick(pr(e))}:ur&&ur.now?Qt=function(e){ur.now(pr(e))}:cr&&!rr?(er=(Zt=new cr).port2,Zt.port1.onmessage=hr,Qt=et(er.postMessage,er,1)):!n.addEventListener||"function"!=typeof postMessage||n.importScripts||o(dr)?Qt="onreadystatechange"in S("script")?function(e){yt.appendChild(S("script")).onreadystatechange=function(){yt.removeChild(this),lr(e)}}:function(e){setTimeout(pr(e),0)}:(Qt=dr,n.addEventListener("message",hr,!1)));var vr,yr,gr,mr,br,wr,Er,Sr,jr={set:or,clear:ir},xr=O.f,Or=jr.set,Pr=n.MutationObserver||n.WebKitMutationObserver,Tr=n.process,Ar=n.Promise,Rr="process"==l(Tr),Cr=xr(n,"queueMicrotask"),kr=Cr&&Cr.value;kr||(vr=function(){var e,t;for(Rr&&(e=Tr.domain)&&e.exit();yr;){t=yr.fn,yr=yr.next;try{t()}catch(e){throw yr?mr():gr=void 0,e}}gr=void 0,e&&e.enter()},Rr?mr=function(){Tr.nextTick(vr)}:Pr&&!rr?(br=!0,wr=document.createTextNode(""),new Pr(vr).observe(wr,{characterData:!0}),mr=function(){wr.data=br=!br}):Ar&&Ar.resolve?(Er=Ar.resolve(void 0),Sr=Er.then,mr=function(){Sr.call(Er,vr)}):mr=function(){Or.call(n,vr)});var Lr,Nr,Dr,Mr,Ir,Ur,_r,Br=kr||function(e){var t={fn:e,next:void 0};gr&&(gr.next=t),yr||(yr=t,mr()),gr=t},Fr=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Ze(t),this.reject=Ze(r)},qr={f:function(e){return new Fr(e)}},$r=function(e,t){if(P(e),y(t)&&t.constructor===e)return t;var r=qr.f(e);return(0,r.resolve)(t),r.promise},Hr=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},zr=jr.set,Vr=Be("species"),Gr="Promise",Kr=ee.get,Xr=ee.set,Jr=ee.getterFor(Gr),Wr=_t,Yr=n.TypeError,Qr=n.document,Zr=n.process,en=oe("fetch"),tn=qr.f,rn=tn,nn="process"==l(Zr),on=!!(Qr&&Qr.createEvent&&n.dispatchEvent),an=Ae(Gr,(function(){if(!(I(Wr)!==String(Wr))){if(66===Ge)return!0;if(!nn&&"function"!=typeof PromiseRejectionEvent)return!0}if(Ge>=51&&/native code/.test(Wr))return!1;var e=Wr.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Vr]=t,!(e.then((function(){}))instanceof t)})),cn=an||!function(e,t){if(!t&&!Jt)return!1;var r=!1;try{var n={};n[Xt]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}((function(e){Wr.all(e).catch((function(){}))})),un=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},sn=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;Br((function(){for(var o=t.value,i=1==t.state,a=0;n.length>a;){var c,u,s,f=n[a++],l=i?f.ok:f.fail,p=f.resolve,h=f.reject,d=f.domain;try{l?(i||(2===t.rejection&&hn(e,t),t.rejection=1),!0===l?c=o:(d&&d.enter(),c=l(o),d&&(d.exit(),s=!0)),c===f.promise?h(Yr("Promise-chain cycle")):(u=un(c))?u.call(c,p,h):p(c)):h(o)}catch(e){d&&!s&&d.exit(),h(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&ln(e,t)}))}},fn=function(e,t,r){var o,i;on?((o=Qr.createEvent("Event")).promise=t,o.reason=r,o.initEvent(e,!1,!0),n.dispatchEvent(o)):o={promise:t,reason:r},(i=n["on"+e])?i(o):"unhandledrejection"===e&&function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},ln=function(e,t){zr.call(n,(function(){var r,n=t.value;if(pn(t)&&(r=Hr((function(){nn?Zr.emit("unhandledRejection",n,e):fn("unhandledrejection",e,n)})),t.rejection=nn||pn(t)?2:1,r.error))throw r.value}))},pn=function(e){return 1!==e.rejection&&!e.parent},hn=function(e,t){zr.call(n,(function(){nn?Zr.emit("rejectionHandled",e):fn("rejectionhandled",e,t.value)}))},dn=function(e,t,r,n){return function(o){e(t,r,o,n)}},vn=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,sn(e,t,!0))},yn=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw Yr("Promise can't be resolved itself");var o=un(r);o?Br((function(){var n={done:!1};try{o.call(r,dn(yn,e,n,t),dn(vn,e,n,t))}catch(r){vn(e,n,r,t)}})):(t.value=r,t.state=1,sn(e,t,!1))}catch(r){vn(e,{done:!1},r,t)}}};an&&(Wr=function(e){!function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}(this,Wr,Gr),Ze(e),Lr.call(this);var t=Kr(this);try{e(dn(yn,this,t),dn(vn,this,t))}catch(e){vn(this,t,e)}},(Lr=function(e){Xr(this,{type:Gr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(e,t,r){for(var n in t)te(e,n,t[n],r);return e}(Wr.prototype,{then:function(e,t){var r,n,o,i=Jr(this),a=tn((r=Wr,void 0===(o=P(this).constructor)||null==(n=P(o)[tr])?r:Ze(n)));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=nn?Zr.domain:void 0,i.parent=!0,i.reactions.push(a),0!=i.state&&sn(this,i,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),Nr=function(){var e=new Lr,t=Kr(e);this.promise=e,this.resolve=dn(yn,e,t),this.reject=dn(vn,e,t)},qr.f=tn=function(e){return e===Wr||e===Dr?new Nr(e):rn(e)},"function"==typeof _t&&(Mr=_t.prototype.then,te(_t.prototype,"then",(function(e,t){var r=this;return new Wr((function(e,t){Mr.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof en&&Ce({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return $r(Wr,en.apply(n,arguments))}}))),Ce({global:!0,wrap:!0,forced:an},{Promise:Wr}),Ur=Gr,_r=!1,(Ir=Wr)&&!b(Ir=_r?Ir:Ir.prototype,Ft)&&Bt(Ir,Ft,{configurable:!0,value:Ur}),function(e){var t=oe(e),r=A.f;i&&t&&!t[qt]&&r(t,qt,{configurable:!0,get:function(){return this}})}(Gr),Dr=oe(Gr),Ce({target:Gr,stat:!0,forced:an},{reject:function(e){var t=tn(this);return t.reject.call(void 0,e),t.promise}}),Ce({target:Gr,stat:!0,forced:an},{resolve:function(e){return $r(this,e)}}),Ce({target:Gr,stat:!0,forced:cn},{all:function(e){var t=this,r=tn(t),n=r.resolve,o=r.reject,i=Hr((function(){var r=Ze(t.resolve),i=[],a=0,c=1;Kt(e,(function(e){var u=a++,s=!1;i.push(void 0),c++,r.call(t,e).then((function(e){s||(s=!0,i[u]=e,--c||n(i))}),o)})),--c||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=tn(t),n=r.reject,o=Hr((function(){var o=Ze(t.resolve);Kt(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});for(var gn in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var mn=n[gn],bn=mn&&mn.prototype;if(bn&&bn.forEach!==pt)try{R(bn,"forEach",pt)}catch(e){bn.forEach=pt}}function wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){En(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xn=function(){var e=P(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function On(e,t){return RegExp(e,t)}var Pn,Tn,An={UNSUPPORTED_Y:o((function(){var e=On("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:o((function(){var e=On("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},Rn=RegExp.prototype.exec,Cn=String.prototype.replace,kn=Rn,Ln=(Pn=/a/,Tn=/b*/g,Rn.call(Pn,"a"),Rn.call(Tn,"a"),0!==Pn.lastIndex||0!==Tn.lastIndex),Nn=An.UNSUPPORTED_Y||An.BROKEN_CARET,Dn=void 0!==/()??/.exec("")[1];(Ln||Dn||Nn)&&(kn=function(e){var t,r,n,o,i=this,a=Nn&&i.sticky,c=xn.call(i),u=i.source,s=0,f=e;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),f=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(u="(?: "+u+")",f=" "+f,s++),r=new RegExp("^(?:"+u+")",c)),Dn&&(r=new RegExp("^"+u+"$(?!\\s)",c)),Ln&&(t=i.lastIndex),n=Rn.call(a?r:i,f),a?n?(n.input=n.input.slice(s),n[0]=n[0].slice(s),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:Ln&&n&&(i.lastIndex=i.global?n.index+n[0].length:t),Dn&&n&&n.length>1&&Cn.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var Mn=kn;Ce({target:"RegExp",proto:!0,forced:/./.exec!==Mn},{exec:Mn});var In=RegExp.prototype,Un=In.toString,_n=o((function(){return"/a/b"!=Un.call({source:"a",flags:"b"})})),Bn="toString"!=Un.name;(_n||Bn)&&te(RegExp.prototype,"toString",(function(){var e=P(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in In)?xn.call(e):r)}),{unsafe:!0});var Fn=Be("species"),qn=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),$n="$0"==="a".replace(/./,"$0"),Hn=Be("replace"),zn=!!/./[Hn]&&""===/./[Hn]("a","$0"),Vn=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Gn=function(e){return function(t,r){var n,o,i=String(d(t)),a=ce(r),c=i.length;return a<0||a>=c?e?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):n:e?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Kn={codeAt:Gn(!1),charAt:Gn(!0)}.charAt,Xn=function(e,t,r){return t+(r?Kn(e,t).length:1)},Jn=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==l(e))throw TypeError("RegExp#exec called on incompatible receiver");return Mn.call(e,t)},Wn=Math.max,Yn=Math.min,Qn=Math.floor,Zn=/\$([$&'`]|\d\d?|<[^>]*>)/g,eo=/\$([$&'`]|\d\d?)/g,to=function(e){return void 0===e?e:String(e)};function ro(e){return Object.prototype.toString.call(e).replace(/^\[object |]$/gi,"")}!function(e,t,r,n){var i=Be(e),a=!o((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),c=a&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[Fn]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!a||!c||"replace"===e&&(!qn||!$n||zn)||"split"===e&&!Vn){var u=/./[i],s=r(i,""[e],(function(e,t,r,n,o){return t.exec===Mn?a&&!o?{done:!0,value:u.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:$n,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:zn}),f=s[0],l=s[1];te(String.prototype,e,f),te(RegExp.prototype,i,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)})}n&&R(RegExp.prototype[i],"sham",!0)}("replace",2,(function(e,t,r,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=n.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(r,n){var o=d(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!o&&i||"string"==typeof n&&-1===n.indexOf(a)){var u=r(t,e,this,n);if(u.done)return u.value}var s=P(e),f=String(this),l="function"==typeof n;l||(n=String(n));var p=s.global;if(p){var h=s.unicode;s.lastIndex=0}for(var d=[];;){var v=Jn(s,f);if(null===v)break;if(d.push(v),!p)break;""===String(v[0])&&(s.lastIndex=Xn(f,se(s.lastIndex),h))}for(var y="",g=0,m=0;m<d.length;m++){v=d[m];for(var b=String(v[0]),w=Wn(Yn(ce(v.index),f.length),0),E=[],S=1;S<v.length;S++)E.push(to(v[S]));var j=v.groups;if(l){var x=[b].concat(E,w,f);void 0!==j&&x.push(j);var O=String(n.apply(void 0,x))}else O=c(b,f,w,E,j,n);w>=g&&(y+=f.slice(g,w)+O,g=w+b.length)}return y+f.slice(g)}];function c(e,r,n,o,i,a){var c=n+e.length,u=o.length,s=eo;return void 0!==i&&(i=Le(i),s=Zn),t.call(a,s,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=i[a.slice(1,-1)];break;default:var f=+a;if(0===f)return t;if(f>u){var l=Qn(f/10);return 0===l?t:l<=u?void 0===o[l-1]?a.charAt(1):o[l-1]+a.charAt(1):t}s=o[f-1]}return void 0===s?"":s}))}}));var no=["Array","String","Number"];function oo(e){var t=ro(e);if(no.includes(t)){if("Array"===t){if(e.length>50)throw new Error("You can give maximum ".concat(50," id at one request"));return e.join(",")}return e}throw new Error("".concat(t," is not supported argument"))}var io=["Array","Object"];function ao(e){var t=ro(e);if(io.includes(t))return"Object"===t?[e]:e;throw new Error("".concat(t," is not supported argument"))}var co=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},uo=Object.prototype.toString;function so(e){return"[object Array]"===uo.call(e)}function fo(e){return void 0===e}function lo(e){return null!==e&&"object"==typeof e}function po(e){return"[object Function]"===uo.call(e)}function ho(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),so(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var vo={isArray:so,isArrayBuffer:function(e){return"[object ArrayBuffer]"===uo.call(e)},isBuffer:function(e){return null!==e&&!fo(e)&&null!==e.constructor&&!fo(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:lo,isUndefined:fo,isDate:function(e){return"[object Date]"===uo.call(e)},isFile:function(e){return"[object File]"===uo.call(e)},isBlob:function(e){return"[object Blob]"===uo.call(e)},isFunction:po,isStream:function(e){return lo(e)&&po(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:ho,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)ho(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)ho(arguments[n],r);return t},extend:function(e,t,r){return ho(t,(function(t,n){e[n]=r&&"function"==typeof t?co(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function yo(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var go=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(vo.isURLSearchParams(t))n=t.toString();else{var o=[];vo.forEach(t,(function(e,t){null!=e&&(vo.isArray(e)?t+="[]":e=[e],vo.forEach(e,(function(e){vo.isDate(e)?e=e.toISOString():vo.isObject(e)&&(e=JSON.stringify(e)),o.push(yo(t)+"="+yo(e))})))})),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e};function mo(){this.handlers=[]}mo.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},mo.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},mo.prototype.forEach=function(e){vo.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var bo=mo,wo=function(e,t,r){return vo.forEach(r,(function(r){e=r(e,t)})),e},Eo=function(e){return!(!e||!e.__CANCEL__)},So=function(e,t){vo.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},jo=function(e,t,r,n,o){return function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,r,n,o)},xo=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Oo=vo.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=vo.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},Po=vo.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),vo.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),vo.isString(n)&&a.push("path="+n),vo.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},To=function(e){return new Promise((function(t,r){var n=e.data,o=e.headers;vo.isFormData(n)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",c=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+c)}var u,s,f=(u=e.baseURL,s=e.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(s)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(u,s):s);if(i.open(e.method.toUpperCase(),go(f,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in i?function(e){var t,r,n,o={};return e?(vo.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=vo.trim(e.substr(0,n)).toLowerCase(),r=vo.trim(e.substr(n+1)),t){if(o[t]&&xo.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:n,config:e,request:i};!function(e,t,r){var n=r.config.validateStatus;!n||n(r.status)?e(r):t(jo("Request failed with status code "+r.status,r.config,null,r.request,r))}(t,r,o),i=null}},i.onabort=function(){i&&(r(jo("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){r(jo("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(jo(t,e,"ECONNABORTED",i)),i=null},vo.isStandardBrowserEnv()){var l=Po,p=(e.withCredentials||Oo(f))&&e.xsrfCookieName?l.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}if("setRequestHeader"in i&&vo.forEach(o,(function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),vo.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),r(e),i=null)})),void 0===n&&(n=null),i.send(n)}))},Ao={"Content-Type":"application/x-www-form-urlencoded"};function Ro(e,t){!vo.isUndefined(e)&&vo.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Co,ko={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Co=To),Co),transformRequest:[function(e,t){return So(t,"Accept"),So(t,"Content-Type"),vo.isFormData(e)||vo.isArrayBuffer(e)||vo.isBuffer(e)||vo.isStream(e)||vo.isFile(e)||vo.isBlob(e)?e:vo.isArrayBufferView(e)?e.buffer:vo.isURLSearchParams(e)?(Ro(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):vo.isObject(e)?(Ro(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};ko.headers={common:{Accept:"application/json, text/plain, */*"}},vo.forEach(["delete","get","head"],(function(e){ko.headers[e]={}})),vo.forEach(["post","put","patch"],(function(e){ko.headers[e]=vo.merge(Ao)}));var Lo=ko;function No(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Do=function(e){return No(e),e.headers=e.headers||{},e.data=wo(e.data,e.headers,e.transformRequest),e.headers=vo.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),vo.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Lo.adapter)(e).then((function(t){return No(e),t.data=wo(t.data,t.headers,e.transformResponse),t}),(function(t){return Eo(t)||(No(e),t&&t.response&&(t.response.data=wo(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Mo=function(e,t){t=t||{};var r={},n=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];vo.forEach(n,(function(e){void 0!==t[e]&&(r[e]=t[e])})),vo.forEach(o,(function(n){vo.isObject(t[n])?r[n]=vo.deepMerge(e[n],t[n]):void 0!==t[n]?r[n]=t[n]:vo.isObject(e[n])?r[n]=vo.deepMerge(e[n]):void 0!==e[n]&&(r[n]=e[n])})),vo.forEach(i,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var a=n.concat(o).concat(i),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return vo.forEach(c,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r};function Io(e){this.defaults=e,this.interceptors={request:new bo,response:new bo}}Io.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Mo(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[Do,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},Io.prototype.getUri=function(e){return e=Mo(this.defaults,e),go(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},vo.forEach(["delete","get","head","options"],(function(e){Io.prototype[e]=function(t,r){return this.request(vo.merge(r||{},{method:e,url:t}))}})),vo.forEach(["post","put","patch"],(function(e){Io.prototype[e]=function(t,r,n){return this.request(vo.merge(n||{},{method:e,url:t,data:r}))}}));var Uo=Io;function _o(e){this.message=e}_o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},_o.prototype.__CANCEL__=!0;var Bo=_o;function Fo(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new Bo(e),t(r.reason))}))}Fo.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Fo.source=function(){var e;return{token:new Fo((function(t){e=t})),cancel:e}};var qo=Fo;function $o(e){var t=new Uo(e),r=co(Uo.prototype.request,t);return vo.extend(r,Uo.prototype,t),vo.extend(r,t),r}var Ho=$o(Lo);Ho.Axios=Uo,Ho.create=function(e){return $o(Mo(Ho.defaults,e))},Ho.Cancel=Bo,Ho.CancelToken=qo,Ho.isCancel=Eo,Ho.all=function(e){return Promise.all(e)},Ho.spread=function(e){return function(t){return e.apply(null,t)}};var zo=Ho,Vo=Ho;zo.default=Vo;var Go=zo,Ko=function(){function e(t){var r=t.endpoint,n=t.parameters,o=void 0===n?{}:n,i=(t.config,t.driver),a=void 0===i?"default":i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.endpoint=r,this.parameters=o,this.$httpDrivers=e.global.httpDrivers,this.httpDriver=a}var t,r,n;return t=e,(r=[{key:"all",value:function(){return this.submit("get","/".concat(this.endpoint))}},{key:"find",value:function(e){var t=oo(e);return this.submit("get","/".concat(this.endpoint,"/").concat(t))}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.submit("post","/".concat(this.endpoint),jn({},t,{records:ao(e)}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.submit("patch","/".concat(this.endpoint),jn({},t,{records:ao(e)}))}},{key:"destroy",value:function(e){var t=oo(e);return this.submit("delete","/".concat(this.endpoint,"/").concat(t))}},{key:"submit",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getDriver();return new Promise((function(i,a){o[e](t+r.getParameterString(),n).then((function(e){var t=e.data;i(t)})).catch((function(e){var t=e.response;a(t?t.data:t)}))}))}},{key:"setViewId",value:function(e){return this.setParameter("viewId",e),this}},{key:"getEmpty",value:function(e){return this.setParameter("getEmpty",!!e),this}},{key:"setFields",value:function(e){return this.setParameter("fields",e),this}},{key:"setFilters",value:function(e){return this.setParameter("filters",e),this}},{key:"setKeyword",value:function(e){return this.setParameter("keyword",e),this}},{key:"setStart",value:function(e){return this.setParameter("start",e),this}},{key:"setLimit",value:function(e){return this.setParameter("limit",e),this}},{key:"setSort",value:function(e){return this.setParameter("sort",e),this}},{key:"setDir",value:function(e){return this.setParameter("dir",e),this}},{key:"getDriver",value:function(){if(this.$httpDrivers.hasOwnProperty(this.httpDriver))return this.$httpDrivers[this.httpDriver];throw new Error("http driver not found")}},{key:"setHeaders",value:function(e){return this.config.headers=jn({},this.config.headers,{},e),this}},{key:"setParameters",value:function(e){var t=this;return Object.keys(e).forEach((function(r){t.parameters[r]=e[r]})),this}},{key:"setParameter",value:function(e,t){return this.parameters[e]=t,this}},{key:"removeParameters",value:function(e){var t=this;return e.forEach((function(e){delete t.parameters[e]})),this}},{key:"removeParameter",value:function(e){return delete this.parameters[e],this}},{key:"clearParameters",value:function(){this.parameters={}}},{key:"getParameterString",value:function(){var e=this,t=Object.keys(this.parameters),r=["Array","Object"],n=t.map((function(t){var n=e.parameters[t];return r.includes(ro(n))&&(n=JSON.stringify(n)),"".concat(t,"=").concat(n)}));return 0===n.length?"":"?".concat(n.join("&"))}}])&&wn(t.prototype,r),n&&wn(t,n),e}();return Ko.global=Ko.prototype,Ko.global.config={},Ko.global.createHttpDriver=function(e,t){if(this.httpDrivers.hasOwnProperty(e))throw new Error("".concat(e," http driver already registed"));this.httpDrivers[e]=Go.create(t)},Ko.global.httpDrivers={},Ko.global.version="1.0.0",Ko.global.createHttpDriver("default",{withCredentials:!0,baseURL:"".concat("https://app.kivacrm.com/kiva/jsapi/bridge","/data"),headers:{}}),Ko}));
